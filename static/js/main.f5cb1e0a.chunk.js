(this["webpackJsonpreact-test-workshop"]=this["webpackJsonpreact-test-workshop"]||[]).push([[0],{20:function(e,t,n){e.exports=n(30)},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);n(16).a.get("express:/todolist",(function(e){return{todoList:[{text:"Hello I'm MOCK",id:"9876543210"}]}}),{delay:1e3})},30:function(e,t,n){"use strict";n.r(t);var r,a=n(0),u=n.n(a),o=n(15),c=n.n(o),s=(n(25),n(3));!function(e){e.NotLoadedYet="NotLoadedYet",e.Loading="Loading",e.Success="Success",e.Error="Error"}(r||(r={}));var i=function(e){switch(e){case 200:return r.Success;default:return r.Error}},l=n(1),d=n.n(l),p=n(2),f=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t);case 3:return n=e.sent,a={status:r.Success,data:n},e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:r.Error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return t=e.sent,n={status:r.Success,data:t},e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:r.Error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return n=e.sent,a={status:r.Success,data:n},e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:r.Error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/todolist");case 2:if(t=e.sent,(n=i(t.status))===r.Success){e.next=7;break}return a={status:n},e.abrupt("return",Promise.reject(a));case 7:return e.next=9,t.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/create/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todo:t})});case 2:if(n=e.sent,(a=i(n.status))===r.Success){e.next=7;break}return u={status:a},e.abrupt("return",Promise.reject(u));case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/delete/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 2:if(n=e.sent,(a=i(n.status))===r.Success){e.next=7;break}return u={status:a},e.abrupt("return",Promise.reject(u));case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(a.createContext)({restTodolist:{status:r.NotLoadedYet},addTodo:function(){},deleteTodo:function(){}}),x=function(e){var t=Object(a.useState)({status:r.Loading}),n=Object(s.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){h().then((function(e){c(e)}))}),[]);var i=O.Provider;return u.a.createElement(i,{value:{restTodolist:o,addTodo:function(e){f(e).then((function(e){c(e)}))},deleteTodo:function(e){m(e).then((function(e){c(e)}))}}},e.children)};var S=function(e){var t=e.label,n=e.value,r=e.onChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{style:{display:"block"},htmlFor:"input-with-label"},t),u.a.createElement("input",{type:"text",id:"input-with-label",value:n,onChange:r}))};function j(){var e=Object(a.useContext)(O).addTodo,t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1];return u.a.createElement("form",{onSubmit:function(t){e({text:r,id:Math.random()}),o(""),t.preventDefault()}},u.a.createElement("h2",null,"Add item:"),u.a.createElement(S,{label:"New item:",value:r,onChange:function(e){return o(e.target.value)}}),u.a.createElement("button",null,"Add"))}function y(e){var t=e.todo,n=Object(a.useContext)(O).deleteTodo;return u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},u.a.createElement("label",{htmlFor:"".concat(t.id)},t.text),u.a.createElement("button",{id:"".concat(t.id),onClick:function(){n(t.id)}},"x"))}var w=function(){var e=Object(a.useContext)(O).restTodolist,t=e.status===r.Success?e.data.todoList:[],n=0===t.length;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,"List:"),n?u.a.createElement("p",null,"You've finished all your tasks!"):u.a.createElement("ul",null,t.map((function(e){return u.a.createElement(y,{todo:e,key:e.id})}))))},T=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(x,null,u.a.createElement("h1",null,"Simple to-do list"),"Add things that you need to do here, and then remove them when you've solved them!",u.a.createElement(w,null),u.a.createElement(j,null)))};Object({NODE_ENV:"production",PUBLIC_URL:"/react-test-workshop%20",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MOCK&&(console.log("========================================"),console.log("=============== With MOCK! ============="),console.log("===== Do not enable in PRODUCTION ======"),console.log("========================================"),n(27)),c.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(T,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.f5cb1e0a.chunk.js.map